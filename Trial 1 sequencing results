% conda activate qiime2-amplicon-2024.5

% cd /Users/jess/T1\ Qiime2

% qiime tools import \
  --type 'SampleData[PairedEndSequencesWithQuality]' \
  --input-path Trial1_Manifest.txt \
  --input-format PairedEndFastqManifestPhred33V2 \
  --output-path Trial1-data-paired-end.qza

% qiime cutadapt trim-paired \
--i-demultiplexed-sequences Trial1-data-paired-end.qza \
--p-cores 8 \
--p-front-f CCTAYGGGRBGCASCAG \
--p-front-r GGACTACNNGGGTATCTAAT \
--o-trimmed-sequences Trial1-trimmed-data-paired-end.qza

% qiime demux summarize \
--i-data Trial1-trimmed-data-paired-end.qza \
--o-visualization Trial1-trimmed-data-paired-end.qzv

%% paired

% qiime dada2 denoise-paired \
--i-demultiplexed-seqs Trial1-trimmed-data-paired-end.qza \
--p-trunc-len-f 0 \
--p-trunc-len-r 0 \
--o-table Trial1-data-paired_table.qza \
--o-representative-sequences Trial1-data-paired_repseqs.qza \
--o-denoising-stats Trial1-data-paired-denoising-stats.qza

% qiime metadata tabulate \
--m-input-file Trial1-data-paired-denoising-stats.qza \
--o-visualization Trial1-data-paired-denoising-stats.qzv

%% single

% qiime dada2 denoise-single \
--i-demultiplexed-seqs Trial1-trimmed-data-paired-end.qza \
--p-trunc-len 0 \
--o-table Trial1-data-single_table.qza \
--o-representative-sequences Trial1-data-single_repseqs.qza \
--o-denoising-stats Trial1-data-single-denoising-stats.qza

% qiime metadata tabulate \
--m-input-file Trial1-data-single-denoising-stats.qza \
--o-visualization Trial1-data-single-denoising-stats.qzv

%% continue with single
